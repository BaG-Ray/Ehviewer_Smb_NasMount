# AndroidMountNas
由于本人特别希望能有种方法使得NAS能挂载到手机上，由于Ehviewer中的下载选项中，是直接打开安卓原生的文件系统，因此是没有Nas的这种选项的。再加上如果要实现手机直接挂载cifs的功能，一种是直接刷第三方涵盖cifs的rom，或者在手机上通过挂载linux系统再在linux系统上挂载smb。由于操作不当，第二种方法未能成功。

在  https://github.com/xiaojieonly/Ehviewer_CN_SXJ/issues/378 中我曾经使用google store上的cifs文件管理系统成功挂载，但是也正如所说的，只能访问浏览，不能直接下载到nas上

在此提出一种新的方法，本方法应该无需越狱适合所有安卓手机，也给后来者提供启发

google曾经推出过一款应用叫Android Samba Client,但目前在play store上已下架，但仍可在互联网中找到，输入smb的地址\\\ip\目录，在此说明，只能是一层目录，否则会报错

成功挂载后，通过ehviewer是可以下载的，但是进度条不会变，通过打开路径可知，下载的文件是没有后缀的，但如果我们将其加上.jpg即可浏览，猜测可能是ehviewer的下载方式问题

因此如果能够实现边下载完成后立马将文件改为.jpg文件应该是可以和下载到手机路径是一样的

有一款应用叫inotify，可以实现实时监测文件的变化，通过检测eh文件夹的变化来实现修改

通过bash脚本即可实现将下载的文件转成jpg文件,配合着ehviewer使用应该是没有问题的，bash脚本内容如下：

![contents](https://github.com/BaG-Ray/AndroidMountNas/raw/master/1.png)


-----------------------------------------------------------------------------------\
经过半年的使用，目前来说发现两个问题
首先是带“#”的名称的下载会出现下载错误的问题，推测可能是inotify的限制，或者是bash的脚本的限制？
其次是用此方法进行下载，配额会大量消耗，目测应该是五倍左右。猜测可能是ehviewer的下载问题，但之前所查看的eh对于配额的说法，应该是只要访问同一页数据应该不会消耗多余的配额。
总的来说，目前还只是因为手机空间不足，倘若之后能换个1T的手机专门用来跑ehviewer，配合自动备份可能更好点。或者更进阶点，直接在nas上部署h@h，在ehviewer中选择h@h下载可能更方便点，不过需要公网Ip。亦或者备份到nas后，仍通过inotify进行识别，再通过脚本自动压缩后，通过lanraragi来对元数据进行下载可能更好
